(()=>{"use strict";var e={14849:(e,t,n)=>{var r,o,i,s,c,u;(u=r=r||{})[u._=0]="_",u[u.init=1]="init",u[u.getPinnedMessageArray=2]="getPinnedMessageArray",u[u.checkAlive=3]="checkAlive",u[u.listenerMessage=4]="listenerMessage",function(e){e.Dice="dice",e.Role="role",e.Text="text",e.Expression="expression",e.Theme="theme",e.Airdrop="airdrop",e.Support="support",e.Divide="divide",e.UpdateTribe="updateTribe",e.Pin="pin"}(o=o||{}),function(e){e[e.dashed=0]="dashed",e[e.pinned=2]="pinned",e[e.removed=3]="removed"}(i=i||{}),function(e){e.Random="random",e.Average="average"}(s=s||{}),function(e){e[e._=0]="_",e[e.inactive=1]="inactive",e[e.active=2]="active",e[e.tokenInvalid=3]="tokenInvalid"}(c=c||{});var a=n(43550),l=n.n(a),f=function(e,t,n,r){return new(n=n||Promise)((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}};const h={development:{version:5,source:"emit-im",host:{ws:"wss://pins-ws.emit.technology/ws",rpc:"https://pins-api.emit.technology"}},production:{version:5,source:"emit-im",host:{ws:"wss://pins-ws.emit.technology/ws",rpc:"https://pins-api.emit.technology"}}}.production;var p=n(8983);const v=function(){};var b={message:{name:"message",keyPath:"uid",autoIncrement:!0,indexes:[{index:"id",relativeIndex:"id",unique:!0},{index:"groupId",relativeIndex:"groupId",unique:!1},{index:"tribeId",relativeIndex:"tribeId",unique:!1},{index:"tribeIdDeleted",relativeIndex:"tribeIdDeleted",unique:!1},{index:"deleted",relativeIndex:"deleted",unique:!1},{index:"timestamp",relativeIndex:"timestamp",unique:!1},{index:"seq",relativeIndex:"seq",unique:!1},{index:"tribeIdAndTimestamp",relativeIndex:["tribeId","deleted","timestamp"],unique:!1},{index:"tribeIdAndGroupId",relativeIndex:["tribeId","groupId"],unique:!1},{index:"tribeIdAndSeq",relativeIndex:["tribeId","seq"],unique:!1},{index:"tribeIdDeletedAndSeq",relativeIndex:["tribeId","deleted","seq"],unique:!1}]},groupMsg:{name:"group_msg",keyPath:"uid",autoIncrement:!0,indexes:[{index:"groupId",relativeIndex:"groupId",unique:!0}]},tribeInfo:{name:"tribe_info",keyPath:"uid",autoIncrement:!0,indexes:[{index:"tribeId",relativeIndex:"tribeId",unique:!0}]}},g=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),y=function(e,t,n,r){return new(n=n||Promise)((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((r=r.apply(e,t||[])).next())}))},w=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},m=function(e){function t(t){var n=e.call(this)||this;return n.findPages=function(e,t,r,o,i){return y(n,void 0,void 0,(function(){return w(this,(function(n){switch(n.label){case 0:return[4,this._db.pageData(this._name,e,t,r,o,i)];case 1:return[2,n.sent()]}}))}))},n._name=b.message.name,n._db=t,n}return g(t,e),t.prototype.delete=function(e){return y(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this._db.delete(this._name,e)];case 1:return t.sent(),[2]}}))}))},t.prototype.find=function(e){return y(this,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return[4,this._db.select(this._name,e)];case 1:return(t=n.sent())?[2,t[0]]:[2,null]}}))}))},t.prototype.some=function(e){return y(this,void 0,void 0,(function(){var t;return w(this,(function(n){switch(n.label){case 0:return[4,this._db.select(this._name,e)];case 1:return(t=n.sent())?[2,t]:[2,[]]}}))}))},t.prototype.findAll=function(){return y(this,void 0,void 0,(function(){return w(this,(function(e){switch(e.label){case 0:return[4,this._db.selectAll(this._name)];case 1:return[2,e.sent()]}}))}))},t.prototype.insert=function(e){return y(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this._db.insert(this._name,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.update=function(e){return y(this,void 0,void 0,(function(){return w(this,(function(t){switch(t.label){case 0:return[4,this._db.update(this._name,e)];case 1:return[2,t.sent()]}}))}))},t}(v);const I=m;var _=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),x=function(e,t,n,r){return new(n=n||Promise)((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((r=r.apply(e,t||[])).next())}))},P=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},k=function(e){function t(t){var n=e.call(this)||this;return n.findPages=function(e,t,r,o,i){return x(n,void 0,void 0,(function(){return P(this,(function(n){switch(n.label){case 0:return[4,this._db.pageData(this._name,e,t,r,o,i)];case 1:return[2,n.sent()]}}))}))},n._name=b.groupMsg.name,n._db=t,n}return _(t,e),t.prototype.delete=function(e){return x(this,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:return[4,this._db.delete(this._name,e)];case 1:return t.sent(),[2]}}))}))},t.prototype.find=function(e){return x(this,void 0,void 0,(function(){var t;return P(this,(function(n){switch(n.label){case 0:return[4,this._db.select(this._name,e)];case 1:return[2,(t=n.sent())&&t[0]]}}))}))},t.prototype.findAll=function(){return x(this,void 0,void 0,(function(){return P(this,(function(e){switch(e.label){case 0:return[4,this._db.selectAll(this._name)];case 1:return[2,e.sent()]}}))}))},t.prototype.insert=function(e){return x(this,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:return[4,this._db.insert(this._name,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.update=function(e){return x(this,void 0,void 0,(function(){return P(this,(function(t){switch(t.label){case 0:return[4,this._db.update(this._name,e)];case 1:return[2,t.sent()]}}))}))},t}(v);const T=k;var O=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),S=function(e,t,n,r){return new(n=n||Promise)((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((r=r.apply(e,t||[])).next())}))},M=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},q=function(e){function t(t){var n=e.call(this)||this;return n.findPages=function(e,t,r,o,i){return S(n,void 0,void 0,(function(){return M(this,(function(n){switch(n.label){case 0:return[4,this._db.pageData(this._name,e,t,r,o,i)];case 1:return[2,n.sent()]}}))}))},n._name=b.tribeInfo.name,n._db=t,n}return O(t,e),t.prototype.delete=function(e){return S(this,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return[4,this._db.delete(this._name,e)];case 1:return t.sent(),[2]}}))}))},t.prototype.find=function(e){return S(this,void 0,void 0,(function(){var t;return M(this,(function(n){switch(n.label){case 0:return[4,this._db.select(this._name,e)];case 1:return[2,(t=n.sent())&&t[0]]}}))}))},t.prototype.findAll=function(){return S(this,void 0,void 0,(function(){return M(this,(function(e){switch(e.label){case 0:return[4,this._db.selectAll(this._name)];case 1:return[2,e.sent()]}}))}))},t.prototype.insert=function(e){return S(this,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return[4,this._db.insert(this._name,e)];case 1:return[2,t.sent()]}}))}))},t.prototype.update=function(e){return S(this,void 0,void 0,(function(){return M(this,(function(t){switch(t.label){case 0:return[4,this._db.update(this._name,e)];case 1:return[2,t.sent()]}}))}))},t}(v);const A=q;var C=function(e,t,n,r){return new(n=n||Promise)((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((r=r.apply(e,t||[])).next())}))},D=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},j=function(){function e(e,t){this.name=e,this.db=t}return e.prototype.transaction=function(e){return this.db.transaction([this.name],!0===(e=void 0===e||e)?"readwrite":"readonly")},e.prototype.request=function(){return this.transaction().objectStore(this.name)},e.prototype.select=function(e){return C(this,void 0,void 0,(function(){var t,n,r,o,i,s,c,u,a,l,f,d,h,p,v,b,g,y=this;return D(this,(function(w){switch(w.label){case 0:if(1!=Object.keys(e).length)return[3,1];for(r in e)n=e[t=r];return[2,new Promise((function(e,r){var o=y.request().index(t).getAll(n);o.onsuccess=function(t){e(t.target.result)},o.onerror=function(e){r(e.target.result)}}))];case 1:for(s in o=[],i=[],e)i.push(s);c=0,w.label=2;case 2:return c<i.length?(u=i[c],[4,this._iSelect(u,e[u])]):[3,5];case 3:u=w.sent(),o.push(u),w.label=4;case 4:return c++,[3,2];case 5:for(a=[],l=0,f=o;l<f.length;l++)for(d=f[l],h=0,p=d;h<p.length;h++){for(g in v=p[h],b=!0,e)if(v[g]!=e[g]){b=!1;break}b&&a.push(v)}return[2,a]}}))}))},e.prototype._iSelect=function(e,t){return C(this,void 0,void 0,(function(){var n=this;return D(this,(function(r){return[2,new Promise((function(r,o){var i=n.request().index(e).getAll(t);i.onsuccess=function(e){r(e.target.result)},i.onerror=function(e){o(e.target.result)}}))]}))}))},e.prototype.selectId=function(e){var t=this;return new Promise((function(n,r){var o=t.request().get(e);o.onsuccess=function(e){n(e.target.result)},o.onerror=function(e){r(e.target.result)}}))},e.prototype.selectAll=function(){var e=this;return new Promise((function(t,n){var r=e.request().getAll();r.onsuccess=function(e){t(e.target.result)},r.onerror=function(e){n(e.target.result)}}))},e.prototype.some=function(e,t){var n,r,o,i=this;for(o in e)r=e[n=o];return new Promise((function(e,o){var s=[];i.request().index(n).openCursor(r,"prev").onsuccess=function(n){(n=n.target.result)&&(s.push(n.value),s.length<t)?n.continue():e(s)}}))},e.prototype.pageData=function(e,t,n,r,o){var i=this;return void 0===o&&(o=10),new Promise((function(s,c){var u=[],a=i.request().index(e),l=n?IDBKeyRange.bound(t,n):IDBKeyRange.only(t),f=a.openCursor(l,"prev"),d=a.count(l),h=null;f.onsuccess=function(e){(e=e.target.result)?h===o-1?(u.push(e.value),s({data:u,total:d?d.result:0})):null===h&&1!==r?(h=0,e.advance((r-1)*o)):(h++,u.push(e.value),e.continue()):s({data:u,total:0})},f.onerror=function(e){console.log("read data failed",e),c(e)}}))},e.prototype.update=function(e){var t=this;return new Promise((function(n,r){var o=t.request().put(e);o.onsuccess=function(e){n(e)},o.onerror=function(e){r(e)}}))},e.prototype.insert=function(e){var t=this;return new Promise((function(n,r){var o=t.request().add(e);o.onsuccess=function(e){n(e)},o.onerror=function(e){r(e)}}))},e.prototype.delete=function(e){var t=this;return new Promise((function(n,r){t.select(e).then((function(r){r.length?r.forEach((function(r,o,i){var s,c=(s=t.request()).keyPath;(s=s.delete(r[c])).onsuccess=function(e){o===i.length-1&&n(e)},s.onerror=function(t){console.log("delete error: ",e,r,o,t),o===i.length-1&&n(!0)}})):n(!0)})).catch((function(e){r(e)}))}))},e.prototype.clear=function(){var e=this;return new Promise((function(t,n){var r=e.request().clear();r.onsuccess=function(e){t(e)},r.onerror=function(e){n(e)}}))},e}(),E=function(e,t,n,r){return new(n=n||Promise)((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((r=r.apply(e,t||[])).next())}))},G=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},W=function(){function e(e){var t=e.databaseName,n=e.tables;e=e.version;this.name=t,this.tables=n,this.createTable(this.tables,e)}return e.prototype.createDateBase=function(e,t){void 0===t&&(t=1),this.openedDB=indexedDB.open(e,t)},e.prototype.createTable=function(e,t){var n=this;void 0===t&&(t=1),indexedDB.open(this.name,t).onupgradeneeded=function(t){var r=t.target.result;e.forEach((function(e){var t;Array.from(r.objectStoreNames).includes(e.name)||(t=r.createObjectStore(e.name,{keyPath:e.keyPath,autoIncrement:e.autoIncrement}),e.indexes.forEach((function(e){n.createIndex(t,e)})))}))}},e.prototype.deleteTable=function(e,t){indexedDB.open(this.name,t).onupgradeneeded=function(n){var r=n.target.result;n.oldVersion<t&&r.deleteObjectStore(e)}},e.prototype.createIndex=function(e,t){var n={};t.unique&&(n.unique=t.unique),t.multiEntry&&(n.multiEntry=t.multiEntry),e.createIndex(t.index,t.relativeIndex,n)},e.prototype.connect=function(){var e=this;return new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){t(e.target.result)},r.onerror=function(e){n(e)}}))},e.prototype.close=function(){this.connect().then((function(e){e.close()}))},e.prototype.insert=function(e,t){var n=this;return new Promise((function(r,o){n.connect().then((function(n){new j(e,n).insert(t).then(r).catch(o)}))}))},e.prototype.select=function(e,t){var n=this;return new Promise((function(r,o){n.connect().then((function(n){new j(e,n).select(t).then((function(e){r(e)})).catch((function(e){o(e)}))}))}))},e.prototype.selectId=function(e,t){var n=this;return new Promise((function(r,o){n.connect().then((function(n){new j(e,n).selectId(t).then((function(e){r(e)})).catch((function(e){o(e)}))}))}))},e.prototype.some=function(e,t,n){var r=this;return new Promise((function(o,i){r.connect().then((function(r){new j(e,r).some(t,n).then((function(e){o(e)})).catch((function(e){i(e)}))}))}))},e.prototype.pageData=function(e,t,n,r,o,i){var s=this;return new Promise((function(c,u){s.connect().then((function(s){new j(e,s).pageData(t,n,r,o,i).then((function(e){c(e)})).catch((function(e){u(e)}))}))}))},e.prototype.update=function(e,t){return E(this,void 0,void 0,(function(){var n=this;return G(this,(function(r){return[2,new Promise((function(r,o){n.connect().then((function(n){new j(e,n).update(t).then((function(e){r(e)})).catch((function(n){console.log(e,t),console.log(n),r(!0)}))}))}))]}))}))},e.prototype.delete=function(e,t){return E(this,void 0,void 0,(function(){var n=this;return G(this,(function(r){return[2,new Promise((function(r,o){n.connect().then((function(n){new j(e,n).delete(t).then((function(e){r(e)})).catch((function(n){console.log(e,t),console.log(n),r(!0)}))}))}))]}))}))},e.prototype.selectAll=function(e){var t=this;return new Promise((function(n,r){t.connect().then((function(t){new j(e,t).selectAll().then((function(e){n(e)})).catch((function(e){r(e)}))}))}))},e.prototype.clearTable=function(e){var t=this;return new Promise((function(n,r){t.connect().then((function(t){new j(e,t).clear().then((function(e){n(e)})).catch((function(e){r(e)}))}))}))},e}(),N=function(){function e(){}return e.prototype.initDatabase=function(e,t){void 0===t&&(t=1);for(var n=[],r=0,o=Object.keys(b);r<o.length;r++){var i=o[r];n.push(b[i])}return new W({databaseName:e,tables:n,version:t})},e}(),L=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),B=function(e,t,n,r){return new(n=n||Promise)((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((r=r.apply(e,t||[])).next())}))},R=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},K=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||((r=r||Array.prototype.slice.call(t,0,o))[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))},J=function(e){function t(){var t=e.call(this,h.host.rpc)||this,r=(t.db_init=0,t.init_count=0,t.initDb=function(e){0==t.db_init++&&(t._db=(new N).initDatabase("emit_im_".concat(e),h.version),t.messageCollection=new I(t._db),t.groupMsgCollection=new T(t._db),t.tribeInfoCollection=new A(t._db))},t.getMessageCollection=function(e){return t.initDb(e),t.messageCollection},t.getGroupMsgCollection=function(e){return t.initDb(e),t.groupMsgCollection},t.getTribeInfoCollection=function(e){return t.initDb(e),t.tribeInfoCollection},t.init=function(e,n,r){return B(t,void 0,void 0,(function(){return R(this,(function(t){switch(t.label){case 0:return 0!=this.init_count++?[3,3]:(console.log("init tribe worker service ..."),this.tribeId=e,this.authToken=n,this._cb=r,[4,this.indexGroupMsg()]);case 1:return t.sent(),[4,this.setConnectWs()];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},t.terminal=function(){t._wsOrigin&&(t._wsOrigin.close(),t._wsOrigin=null),t._wsIntervalId&&clearInterval(t._wsIntervalId)},t.tribeInfo=function(){return B(t,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return[4,this.post("/tribe/tribeInfo",{tribeId:this.tribeId},this.authToken)];case 1:return(e=t.sent())&&0==e.code?[2,Promise.resolve(e.data)]:[2,Promise.reject(e.message)]}}))}))},t.tribeRoles=function(){return B(t,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return[4,this.post("/tribe/tribeRoles",{tribeId:this.tribeId},this.authToken)];case 1:return(e=t.sent())&&0==e.code?e.data?[2,Promise.resolve(e.data)]:[2,[]]:[2,Promise.reject(e.message)]}}))}))},t.userCheckAuth=function(){return B(t,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return[4,this.post("/user/checkAuth",null,this.authToken)];case 1:return(e=t.sent())&&0==e.code?[2,Promise.resolve(e.data.userName)]:[2,Promise.reject(e.message)]}}))}))},t.addWsListener=function(e){var n,r,o,i=t.authToken,s=t.tribeId;t._wsOrigin&&(t._wsOrigin.addEventListener("open",(function(e){console.log("opened"),t._status=c.active,t._wsOrigin.send(JSON.stringify({tribeId:s,authToken:i})),r()})),t._wsOrigin.addEventListener("close",(function(e){console.log("closed"),t._status=c.inactive})),t._wsOrigin.addEventListener("error",(function(e){console.log("error, connect after 10s later:",e),t._status=c.inactive})),t._wsOrigin.addEventListener("message",(function(n){t._status=c.active,n.data&&-1<n.data.indexOf("pong")?o():e?e(n.data):console.log("unset service callback function!")})),n=function(){t._status=c.inactive,console.log("pong timeout ,reconnect...")},r=function(){setTimeout((function(){t._wsOrigin.send("ping"),t.pongTimeout=setTimeout((function(){n()}),1e4)}),1e4)},o=function(){clearTimeout(t.pongTimeout),r()})},t.connectOrigin=function(e){var n=t.tribeId;t._cbInner=e,console.log("connect to [%s] websocket....",n),t.connect()},t.connect=function(){t._wsOrigin?(console.log("check ws status=[%d]",WebSocket[t._wsOrigin.readyState]),t._wsOrigin.readyState==WebSocket.CLOSED?(t._wsOrigin=new WebSocket(h.host.ws),t.addWsListener(t._cbInner)):t._wsOrigin.readyState==WebSocket.OPEN&&t._wsOrigin.send(JSON.stringify({tribeId:t.tribeId,authToken:t.authToken}))):(console.log("ws is null, new web socket, cb: ",t._cbInner),t._cbInner?(t._wsOrigin=new WebSocket(h.host.ws),t.addWsListener(t._cbInner)):console.log("not set service callback function..."))},t.reconnect=function(){console.log("websocket reconnect... ws status = ",t._status);try{t.userCheckAuth().then((function(){t.connect()})).catch((function(e){console.error(e),t._status=c.tokenInvalid}))}catch(r){console.error(r)}},t.indexGroupMsg=function(){return B(t,void 0,void 0,(function(){var e,t;return R(this,(function(n){switch(n.label){case 0:return[4,this.groupIds()];case 1:return e=n.sent(),[4,this.tribeInfo()];case 2:return t=n.sent(),[4,this.storeTribeInfoIndex(t)];case 3:return n.sent(),[4,this.createGroupMsg(e,!1)];case 4:return n.sent(),[2]}}))}))},t.groupIds=function(){return B(t,void 0,void 0,(function(){var e;return R(this,(function(t){switch(t.label){case 0:return[4,this.post("/tribe/groupIds",{tribeId:this.tribeId},this.authToken)];case 1:return(e=t.sent())&&0==e.code?[2,Promise.resolve(e.data)]:[2,Promise.reject(e.message)]}}))}))},t.createGroupMsg=function(e,n){return void 0===e&&(e=[]),void 0===n&&(n=!1),B(t,void 0,void 0,(function(){var t,r,s,c,u,a,l,f,d,h;return R(this,(function(v){switch(v.label){case 0:if(!e||0==e.length)return[2,Promise.resolve()];t=[],l=0,v.label=1;case 1:return l<e.length?(d=e[l],[4,this.getGroupMsgCollection(this.tribeId).find({groupId:d})]):[3,4];case 2:(u=v.sent())||t.push({groupId:d,seq:l+1+""}),v.label=3;case 3:return l++,[3,1];case 4:if(!(0<t.length))return[3,16];r=0,s=t,v.label=5;case 5:return r<s.length?(c=s[r],[4,this.post("/tribe/groupedMsg",{groupIds:[c.groupId],withDraft:n},this.authToken)]):[3,16];case 6:return(u=v.sent())&&0==u.code?0==u.data.length?[2,Promise.reject("groupId =[".concat(e,"] con not match the results"))]:(a=u.data[0]).records&&0<a.records.length?((h=JSON.parse(JSON.stringify(a.records[0]))).msgType=o.Divide,h.msgStatus=i.pinned,h.seq=new p.Z(h.seq).minus(1).toString(10),h.timestamp=h.timestamp-1,h.id=h.id+Date.now(),console.log("========== create pinned message:",h),[4,this.storeMessageIndex([h],h.groupId,a.roles)]):[3,8]:[3,14];case 7:v.sent(),v.label=8;case 8:l=0,v.label=9;case 9:return l<u.data.length?(f=u.data[l],d=c.groupId,f.groupId=d,f.seq=c.seq,h=K([],f.records,!0),[4,this.storeMessageIndex(h,d,f.roles)]):[3,13];case 10:return v.sent(),f.records=[],[4,this.getGroupMsgCollection(this.tribeId).insert(f)];case 11:v.sent(),v.label=12;case 12:return l++,[3,9];case 13:return[3,15];case 14:return[2,Promise.reject(u.message)];case 15:return r++,[3,5];case 16:return[2,Promise.resolve()]}}))}))},t._tribeIdDeletedKey=function(e){return e===i.removed?1:2},t.storeMessageIndex=function(e,n,r){return B(t,void 0,void 0,(function(){var t,s,c,u,a;return R(this,(function(l){switch(l.label){case 0:console.log("======== store message",e),t=function(e){var t,c,u,a,l;return R(this,(function(f){switch(f.label){case 0:return e.msgType!=o.Pin?[3,3]:[4,s.clearUnPinnedMessages()];case 1:return f.sent(),[4,s.indexGroupMsg()];case 2:return f.sent(),[2,"continue"];case 3:return e.msgType==o.UpdateTribe?[2,"continue"]:(e.groupId=n,e.actor=r.find((function(t){return t.id==e.role})),[4,s.getMessageCollection(s.tribeId).find({id:e.id})]);case 4:return t=f.sent(),c=s._tribeIdDeletedKey(e.msgStatus),e.deleted=c,e.tribeId=s.tribeId,t?e.msgStatus!==i.removed?[3,7]:[4,s.getMessageCollection(s.tribeId).delete({id:e.id})]:[3,10];case 5:return f.sent(),[4,s.getMessageCollection(s.tribeId).insert(e)];case 6:return f.sent(),[3,9];case 7:for(c=Object.keys(e),u=0,a=c;u<a.length;u++)l=a[u],t[l]=e[l];return[4,s.getMessageCollection(s.tribeId).update(t)];case 8:f.sent(),f.label=9;case 9:return[3,12];case 10:return[4,s.getMessageCollection(s.tribeId).insert(e)];case 11:f.sent(),f.label=12;case 12:return[2]}}))},s=this,c=0,u=e,l.label=1;case 1:return c<u.length?(a=u[c],[5,t(a)]):[3,4];case 2:l.sent(),l.label=3;case 3:return c++,[3,1];case 4:return[2]}}))}))},t.clearUnPinnedMessages=function(){return B(t,void 0,void 0,(function(){return R(this,(function(e){switch(e.label){case 0:return[4,this.getMessageCollection(this.tribeId).delete({groupId:""})];case 1:return e.sent(),[2]}}))}))},t.storeTribeInfoIndex=function(e){return B(t,void 0,void 0,(function(){var t,n,r,o,i;return R(this,(function(s){switch(s.label){case 0:return[4,this.getTribeInfoCollection(e.tribeId).find({tribeId:e.tribeId})];case 1:if(!(t=s.sent()))return[3,3];for(n=Object.keys(e),r=0,o=n;r<o.length;r++)i=o[r],t[i]=e[i];return[4,this.getTribeInfoCollection(e.tribeId).update(t)];case 2:return s.sent(),[3,5];case 3:return[4,this.getTribeInfoCollection(e.tribeId).insert(e)];case 4:s.sent(),s.label=5;case 5:return[2]}}))}))},t.getMessageWithPinned=function(e,n,r,s){return B(t,void 0,void 0,(function(){var t,c,u,a,l,f,d,h,p,v,b,g;return R(this,(function(y){switch(y.label){case 0:return t=[e,this._tribeIdDeletedKey(i.pinned),0],c=[e,this._tribeIdDeletedKey(i.pinned),Math.floor(Date.now()/1e3)+3600],g="tribeIdAndTimestamp",s&&3==s.length&&(g=s[0],t=s[1],c=s[2]),console.log(g,t,c,"condition========="),[4,this.getMessageCollection(e).findPages(g,t,c,n,r)];case 1:return u=y.sent(),console.log("============== get rest : ",u),a=u.data,l=[],[4,this.getTribeInfoCollection(e).find({tribeId:e})];case 2:f=y.sent(),d=null,a.reverse(),h=0,p=a,y.label=3;case 3:return h<p.length?(v=p[h],d=v.msgType!==o.Divide&&v.msgType!==o.Role?(v.hideTime=d&&d.role==v.role&&d.groupId==v.groupId&&Math.floor(d.timestamp/300)==Math.floor(v.timestamp/300)?1:2,d&&(d.owner==f.keeper&&v.owner!==f.keeper||d.owner!==f.keeper&&v.owner==f.keeper)&&(v.groupId||(v.hideTime=2)),{role:v.role,timestamp:v.timestamp,groupId:v.groupId,owner:v.owner}):(v.hideTime=2,null),[4,this.getGroupMsgCollection(e).find({groupId:v.groupId})]):[3,8];case 4:return b=y.sent(),!v.replayToMsgId||v.replayMsg?[3,6]:[4,this.getMessageCollection(e).find({id:v.replayToMsgId})];case 5:(g=y.sent())&&(v.replayMsg=g),y.label=6;case 6:b?l.push({theme:b.theme,seq:b.seq,roles:b.roles,records:[v],groupId:b.groupId,index:0}):f&&l.push({theme:f.theme,seq:"",roles:f.roles,records:[v],groupId:"",index:0}),y.label=7;case 7:return h++,[3,3];case 8:return[2,{total:u.total,data:l}]}}))}))},t.status=function(e,n){return t.authToken=n,t.tribeId=e,t._status!==c.active&&t.reconnect(),t._status},t.setConnectWs=function(){t.connectOrigin((function(e){return B(t,void 0,void 0,(function(){var t,n,r,i,s,c,u,a,l,f,d,h,v,b,g;return R(this,(function(y){switch(y.label){case 0:return[4,this._lock()];case 1:t=y.sent(),y.label=2;case 2:return y.trys.push([2,12,13,14]),(u=JSON.parse(e)).msgs?(n=u.msgs,r=u.tribeInfo,s=i=r,[4,this.tribeRoles()]):[3,11];case 3:return s.roles=y.sent(),[4,this.storeTribeInfoIndex(r)];case 4:return y.sent(),c=K([],n,!0),[4,this.getMessageCollection(i.tribeId).findPages("tribeIdDeletedAndSeq",[i.tribeId,2,"0000000000000000000"],[i.tribeId,2,new p.Z(1e20).minus(1).toString(10)],1,2)];case 5:u=y.sent(),console.log("rest",u),0<u.data.length&&(a=u.data[0].seq,c=c.filter((function(e){return e.msgType==o.Pin||e.msgType==o.UpdateTribe||0<new p.Z(e.seq).comparedTo(new p.Z(a))}))),c=c.filter((function(e){return e.msgType!=o.Support})),l=[],f=function(e){var t;return R(this,(function(n){switch(n.label){case 0:return e.replayToMsgId?(t=c.find((function(t){return t.id==e.replayToMsgId})))?[3,2]:[4,d.getMessageCollection(i.tribeId).find({id:e.replayToMsgId})]:[3,3];case 1:t=n.sent(),n.label=2;case 2:e.replayMsg=t,n.label=3;case 3:return l.push(e),[2]}}))},d=this,h=0,v=c,y.label=6;case 6:return h<v.length?(b=v[h],[5,f(b)]):[3,9];case 7:y.sent(),y.label=8;case 8:return h++,[3,6];case 9:return 0<l.length?[4,this.storeMessageIndex(l,"",i.roles)]:[3,11];case 10:y.sent(),this._cb?(b=this.convertMessagesToPinnedSticky(l,i.roles,r),this._cb(b)):console.log("unset callback function"),y.label=11;case 11:return[3,14];case 12:return g=y.sent(),console.error(g),[3,14];case 13:return t(),console.log("release ..."),[7];case 14:return[2]}}))}))}))},t.convertMessagesToPinnedSticky=function(e,t,n){if(e&&n&&t){for(var r=[],o=0,i=e;o<i.length;o++){var s=i[o];r.push({theme:n.theme,seq:s.seq,roles:t,records:[s],groupId:"",index:0})}return r}return[]},n(15413));return t._lock=r(),t._status=c._,t}return L(t,e),t}((function(e){var t=this;this.post=function(e,n,r){return f(t,void 0,void 0,(function(){return d(this,(function(t){switch(t.label){case 0:return[4,l().post("".concat(this._url).concat(e),n,{headers:{"Content-Type":"application/json",AuthToken:r}})];case 1:return[2,t.sent().data]}}))}))},this._url=e})),U=function(e,t,n,r){return new(n=n||Promise)((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function c(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):((t=e.value)instanceof n?t:new n((function(e){e(t)}))).then(s,c)}u((r=r.apply(e,t||[])).next())}))},Z=function(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s={next:c(0),throw:c(1),return:c(2)};return"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){var u=[s,c];if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,(u=o?[2&u[0],o.value]:u)[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=0<(o=i.trys).length&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3]))i.label=u[1];else if(6===u[0]&&i.label<o[1])i.label=o[1],o=u;else{if(!(o&&i.label<o[2])){o[2]&&i.ops.pop(),i.trys.pop();continue}i.label=o[2],i.ops.push(u)}}u=t.call(e,i)}catch(c){u=[6,c],r=0}finally{n=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}},z=new function(){var e=this;this.count=0,this.init=function(t,n){return U(e,void 0,void 0,(function(){var e;return Z(this,(function(o){switch(o.label){case 0:return 0!=this.count++?[3,2]:(e=function(e){console.log("callback msg",e),F({messageId:-1,method:r.listenerMessage,data:e,result:e})},[4,this.tribeService.init(t,n,e)]);case 1:o.sent(),o.label=2;case 2:return[2,Promise.resolve(!0)]}}))}))},this.getPinnedMessageArray=function(t,n,r,o){return U(e,void 0,void 0,(function(){return Z(this,(function(e){switch(e.label){case 0:return[4,this.tribeService.getMessageWithPinned(t,n,r,o)];case 1:return[2,e.sent()]}}))}))},this.checkStatusAndSetAuthToken=function(t,n){return U(e,void 0,void 0,(function(){return Z(this,(function(e){return[2,this.tribeService.status(t,n)]}))}))},this.tribeService=new J};function F(e){self.postMessage(e)}self.addEventListener("message",(function(e){if(e&&e.data&&e.data.method){var t=e.data;switch(t.method){case r.init:z.init(t.data.tribeId,t.data.authToken).then((function(e){t.result=e,F(t)})).catch((function(e){t.error="string"==typeof e?e:e.message,F(t)}));break;case r.getPinnedMessageArray:z.getPinnedMessageArray(t.data.tribeId,t.data.pageNo,t.data.pageSize,t.data.conditions).then((function(e){t.result=e,F(t)})).catch((function(e){t.error="string"==typeof e?e:e.message,F(t)}));break;case r.checkAlive:z.checkStatusAndSetAuthToken(t.data.tribeId,t.data.authToken).then((function(e){t.result=e,F(t)})).catch((function(e){t.error="string"==typeof e?e:e.message,F(t)}));break;default:console.log("default message",t)}}}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.x=()=>{var e=n.O(void 0,[699],(()=>n(14849)));return e=n.O(e)},(()=>{var e=[];n.O=(t,r,o,i)=>{if(!r){var s=1/0;for(l=0;l<e.length;l++){for(var[r,o,i]=e[l],c=!0,u=0;u<r.length;u++)(!1&i||s>=i)&&Object.keys(n.O).every((e=>n.O[e](r[u])))?r.splice(u--,1):(c=!1,i<s&&(s=i));if(c){e.splice(l--,1);var a=o();void 0!==a&&(t=a)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[r,o,i]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>e+"."+n.h().slice(0,8)+".async.js",n.miniCssF=e=>{},n.h=()=>"a04ff1e7f26214605b90",n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.p="/",(()=>{var e={849:1};n.f.i=(t,r)=>{e[t]||importScripts(n.p+n.u(t))};var t=self.webpackChunkemit_pins=self.webpackChunkemit_pins||[],r=t.push.bind(t);t.push=t=>{var[o,i,s]=t;for(var c in i)n.o(i,c)&&(n.m[c]=i[c]);for(s&&s(n);o.length;)e[o.pop()]=1;r(t)}})(),(()=>{var e=n.x;n.x=()=>n.e(699).then(e)})();n.x()})();
//# sourceMappingURL=849.a04ff1e7.async.js.map